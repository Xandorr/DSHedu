<%- include('./layouts/main', { 
  title: '비밀번호 재설정', 
  description: 'DSH에듀 비밀번호 재설정 페이지', 
  body: `
  <!-- Reset Password Hero Section -->
  <section class="reset-password-hero py-5 bg-light">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="text-center mb-5">
            <h1 class="display-4 fw-bold mb-3"><span class="text-primary">비밀번호 재설정</span></h1>
            <p class="lead text-muted">새로운 비밀번호를 설정하세요</p>
          </div>
          
          <!-- Reset Password Form Card -->
          <div class="card shadow-sm rounded-4 border-0">
            <div class="card-body p-4 p-md-5">
              <form id="resetPasswordForm" action="/reset-password/<%= token %>" method="POST">
                <div class="mb-3">
                  <label for="password" class="form-label">새 비밀번호</label>
                  <input type="password" class="form-control" id="password" name="password" required>
                  <div class="form-text">비밀번호는 8자 이상, 영문, 숫자, 특수문자를 포함해야 합니다.</div>
                </div>
                <div class="mb-4">
                  <label for="passwordConfirm" class="form-label">비밀번호 확인</label>
                  <input type="password" class="form-control" id="passwordConfirm" name="passwordConfirm" required>
                </div>
                <div class="d-grid mb-4">
                  <button type="submit" class="btn btn-primary btn-lg">비밀번호 재설정</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const resetPasswordForm = document.getElementById('resetPasswordForm');
    
    resetPasswordForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const password = document.getElementById('password').value;
      const passwordConfirm = document.getElementById('passwordConfirm').value;
      
      if (password !== passwordConfirm) {
        alert('비밀번호가 일치하지 않습니다.');
        return false;
      }
      
      // 비밀번호 복잡성 검증
      const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
      if (!passwordRegex.test(password)) {
        alert('비밀번호는 8자 이상, 영문, 숫자, 특수문자를 포함해야 합니다.');
        return false;
      }
      
      // 폼 제출
      this.submit();
    });
  });
  </script>
  
  <style>
    /* 폼 스타일 */
    .form-control {
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
    }
    
    .form-control:focus {
      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
  </style>
`}) %> 