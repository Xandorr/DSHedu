<%- include('./layouts/main', { 
  title: '문의하기', 
  description: 'DSH에듀에 문의하여 미국 캠프 프로그램에 대한 자세한 정보를 얻으세요', 
  body: `
  <!-- Contact Hero Section -->
  <section class="contact-hero py-5 bg-light">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <h1 class="display-4 fw-bold mb-4"><span class="text-primary">CONTACT</span> US</h1>
          <p class="lead mb-4">DSH에듀에 문의하여 미국 캠프 프로그램에 대한 상세 정보를 얻으세요. 전문 상담사들이 학생과 학부모님의 모든 질문에 답변해 드립니다.</p>
          <div class="contact-info mt-5">
            <div class="d-flex mb-4">
              <div class="flex-shrink-0">
                <div class="contact-icon d-flex align-items-center justify-content-center bg-primary text-white rounded-circle" style="width: 50px; height: 50px;">
                  <i class="fas fa-map-marker-alt"></i>
                </div>
              </div>
              <div class="ms-3">
                <h5 class="mb-1 fw-bold">ADDRESS</h5>
                <p class="mb-0 text-muted">서울특별시 강남구 테헤란로70길 12, 402-J720호</p>
              </div>
            </div>
            <div class="d-flex mb-4">
              <div class="flex-shrink-0">
                <div class="contact-icon d-flex align-items-center justify-content-center bg-primary text-white rounded-circle" style="width: 50px; height: 50px;">
                  <i class="fas fa-comment-dots"></i>
                </div>
              </div>
              <div class="ms-3">
                <h5 class="mb-1 fw-bold">KAKAO TALK</h5>
                <p class="mb-0 text-muted">카카오톡채널: <a href="https://pf.kakao.com/_wixkmn" target="_blank" rel="noopener" class="text-primary text-decoration-none">@dshedu</a></p>
              </div>
            </div>
            <div class="d-flex mb-4">
              <div class="flex-shrink-0">
                <div class="contact-icon d-flex align-items-center justify-content-center bg-primary text-white rounded-circle" style="width: 50px; height: 50px;">
                  <i class="fas fa-envelope"></i>
                </div>
              </div>
              <div class="ms-3">
                <h5 class="mb-1 fw-bold">EMAIL</h5>
                <p class="mb-0 text-muted">info@dshedu.net</p>
              </div>
            </div>
            <div class="d-flex">
              <div class="flex-shrink-0">
                <div class="contact-icon d-flex align-items-center justify-content-center bg-primary text-white rounded-circle" style="width: 50px; height: 50px;">
                  <i class="fas fa-clock"></i>
                </div>
              </div>
              <div class="ms-3">
                <h5 class="mb-1 fw-bold">HOURS</h5>
                <p class="mb-0 text-muted">월-금: 오전 9시 - 오후 6시</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6 mt-5 mt-lg-0">
          <div class="contact-form-card p-4 shadow-sm rounded-4 bg-white">
            <h3 class="mb-4 fw-bold">SEND A MESSAGE</h3>
            <form id="contactForm" class="needs-validation" novalidate>
              <div class="row g-4">
                <div class="col-md-6">
                  <div class="form-floating">
                    <input type="text" class="form-control" id="name" name="name" placeholder="이름" required>
                    <label for="name">이름</label>
                    <div class="invalid-feedback">이름을 입력해주세요.</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-floating">
                    <input type="email" class="form-control" id="email" name="email" placeholder="이메일" required>
                    <label for="email">이메일</label>
                    <div class="invalid-feedback">유효한 이메일을 입력해주세요.</div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <input type="text" class="form-control" id="subject" name="subject" placeholder="제목" required>
                    <label for="subject">제목</label>
                    <div class="invalid-feedback">제목을 입력해주세요.</div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating">
                    <textarea class="form-control" id="message" name="message" placeholder="메시지" style="height: 150px" required></textarea>
                    <label for="message">메시지</label>
                    <div class="invalid-feedback">메시지를 입력해주세요.</div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="privacyAgreement" required>
                    <label class="form-check-label" for="privacyAgreement">
                      개인정보 수집 및 이용에 동의합니다
                    </label>
                    <div class="invalid-feedback">개인정보 수집 및 이용에 동의해주세요.</div>
                  </div>
                </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-primary btn-lg w-100">보내기</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Divider -->
  <div class="section-divider">
    <div class="divider-wave">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 160">
        <path fill="#ffffff" fill-opacity="1" d="M0,128L48,117.3C96,107,192,85,288,90.7C384,96,480,128,576,128C672,128,768,96,864,90.7C960,85,1056,107,1152,117.3C1248,128,1344,128,1392,128L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
      </svg>
    </div>
  </div>

  <!-- FAQ Section -->
  <section class="faq-section py-5 bg-white">
    <div class="container">
      <div class="text-center mb-5" data-aos="fade-up">
        <div class="section-badge mx-auto mb-3 d-flex align-items-center justify-content-center rounded-pill bg-primary-subtle px-3 py-2 fw-bold text-primary" style="width: fit-content;">
          <i class="fas fa-question-circle me-2"></i>자주 묻는 질문
        </div>
        <h2 class="fw-bold display-5 mb-3">FREQUENTLY <span class="text-primary">ASKED QUESTIONS</span></h2>
        <p class="lead text-muted">DSH에듀 프로그램에 대한 일반적인 질문들</p>
      </div>
      
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="faq-container p-1 rounded-4" data-aos="fade-up" data-aos-delay="100">
            <div class="accordion custom-accordion" id="faqAccordion">
              <!-- FAQ Item 1 -->
              <div class="accordion-item border-0 shadow-sm mb-3 rounded-4 overflow-hidden">
                <h2 class="accordion-header" id="faqHeading1">
                  <button class="accordion-button rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1">
                    <i class="fas fa-angle-right me-2 faq-icon"></i>
                    <span>프로그램 참가 신청은 어떻게 하나요?</span>
                  </button>
                </h2>
                <div id="faqCollapse1" class="accordion-collapse collapse show" aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    프로그램 참가 신청은 웹사이트의 프로그램 페이지에서 원하는 프로그램을 선택한 후 '신청하기' 버튼을 클릭하시거나, 전화 또는 이메일로 문의하실 수 있습니다. 상담사와 상담 후 신청서를 작성하고 계약금을 납부하시면 예약이 확정됩니다.
                  </div>
                </div>
              </div>
              
              <!-- FAQ Item 2 -->
              <div class="accordion-item border-0 shadow-sm mb-3 rounded-4 overflow-hidden">
                <h2 class="accordion-header" id="faqHeading2">
                  <button class="accordion-button collapsed rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                    <i class="fas fa-angle-right me-2 faq-icon"></i>
                    <span>학생들의 안전은 어떻게 보장되나요?</span>
                  </button>
                </h2>
                <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    학생들의 안전은 DSH에듀의 최우선 과제입니다. 모든 프로그램은 현지 안전 기준을 엄격히 준수하며, 24시간 감독 체계를 갖추고 있습니다. 또한 모든 학생들에게 해외 여행 보험을 제공하며, 한국어를 구사하는 스태프가 항상 상주하여 비상 상황에 즉시 대응할 수 있도록 합니다.
                  </div>
                </div>
              </div>
              
              <!-- FAQ Item 3 -->
              <div class="accordion-item border-0 shadow-sm mb-3 rounded-4 overflow-hidden">
                <h2 class="accordion-header" id="faqHeading3">
                  <button class="accordion-button collapsed rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                    <i class="fas fa-angle-right me-2 faq-icon"></i>
                    <span>비자 신청은 어떻게 하나요?</span>
                  </button>
                </h2>
                <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faqHeading3" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    대부분의 프로그램은 B-2 관광 비자 또는 ESTA(비자 면제 프로그램)로 참가 가능합니다. 프로그램 확정 후 DSH에듀에서 비자 신청에 필요한 서류와 안내를 제공해 드립니다. 학생과 학부모님은 미국 대사관 웹사이트를 통해 비자 신청 예약을 하고, 인터뷰에 참석해야 합니다. 자세한 비자 신청 절차는 저희 상담사가 안내해 드립니다.
                  </div>
                </div>
              </div>
              
              <!-- FAQ Item 4 -->
              <div class="accordion-item border-0 shadow-sm mb-3 rounded-4 overflow-hidden">
                <h2 class="accordion-header" id="faqHeading4">
                  <button class="accordion-button collapsed rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
                    <i class="fas fa-angle-right me-2 faq-icon"></i>
                    <span>프로그램 비용에 포함된 항목은 무엇인가요?</span>
                  </button>
                </h2>
                <div id="faqCollapse4" class="accordion-collapse collapse" aria-labelledby="faqHeading4" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    프로그램 비용에는 일반적으로 수업료, 숙박비, 식사비(프로그램 진행시 포함된 식사) 현지 교통비, 액티비티 및 견학 비용이 포함됩니다. 그러나 프로그램 포함되지 않은 식사비, 국제 항공권, 비자 발급 비용, 해외 여행 보험, 교재비, 개인 용돈은 별도로 준비하셔야 합니다. 각 프로그램마다 포함 항목이 다를 수 있으니, 상세 내용은 프로그램 페이지를 참고하시거나 상담사에게 문의해 주세요.
                  </div>
                </div>
              </div>
              
              <!-- FAQ Item 5 -->
              <div class="accordion-item border-0 shadow-sm rounded-4 overflow-hidden">
                <h2 class="accordion-header" id="faqHeading5">
                  <button class="accordion-button collapsed rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse5" aria-expanded="false" aria-controls="faqCollapse5">
                    <i class="fas fa-angle-right me-2 faq-icon"></i>
                    <span>취소 및 환불 정책은 어떻게 되나요?</span>
                  </button>
                </h2>
                <div id="faqCollapse5" class="accordion-collapse collapse" aria-labelledby="faqHeading5" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    프로그램 취소 시 환불 정책은 다음과 같습니다:
                    <ul>
                      <li>프로그램 시작 60일 이전 취소: 계약금을 제외한 전액 환불</li>
                      <li>프로그램 시작 30-59일 이전 취소: 프로그램 비용의 70% 환불</li>
                      <li>프로그램 시작 15-29일 이전 취소: 프로그램 비용의 50% 환불</li>
                      <li>프로그램 시작 14일 이내 취소: 환불 불가</li>
                    </ul>
                    단, 비자 거부, 질병, 사고 등의 불가항력적인 사유로 인한 취소는 증빙 서류 제출 시 별도의 환불 정책이 적용됩니다.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 개인정보 수집 동의 모달 -->
  <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="privacyModalLabel">개인정보 수집 및 이용 동의</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h6>1. 수집하는 개인정보 항목</h6>
          <p>회사는 문의하기 서비스 제공을 위해 다음과 같은 개인정보를 수집합니다:</p>
          <ul>
            <li>필수항목: 이름, 이메일 주소</li>
            <li>선택항목: 없음</li>
          </ul>

          <h6>2. 개인정보의 수집 및 이용목적</h6>
          <p>회사는 수집한 개인정보를 다음의 목적을 위해 이용합니다:</p>
          <ul>
            <li>문의사항 접수 및 답변</li>
            <li>서비스 제공에 관한 계약 이행</li>
            <li>마케팅 및 광고 활용</li>
          </ul>

          <h6>3. 개인정보의 보유 및 이용기간</h6>
          <p>회사는 원칙적으로 개인정보의 수집 및 이용목적이 달성되면 지체 없이 파기합니다.</p>

          <h6>4. 동의 거부권 및 거부 시 불이익</h6>
          <p>개인정보 수집 및 이용에 대한 동의를 거부할 권리가 있습니다. 다만, 동의를 거부할 경우 문의하기 서비스 이용이 제한됩니다.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm');
    const privacyCheckbox = document.getElementById('privacyAgreement');
    const privacyLabel = privacyCheckbox.nextElementSibling;
    
    // 개인정보 수집 동의 텍스트 클릭 시 모달 표시
    privacyLabel.addEventListener('click', function(e) {
      if (e.target.tagName !== 'INPUT') {
        e.preventDefault();
        const privacyModal = new bootstrap.Modal(document.getElementById('privacyModal'));
        privacyModal.show();
      }
    });

    // 체크박스 클릭 시에도 모달 표시
    privacyCheckbox.addEventListener('change', function(e) {
      if (this.checked) {
        const privacyModal = new bootstrap.Modal(document.getElementById('privacyModal'));
        privacyModal.show();
      }
    });

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      if (!form.checkValidity()) {
        e.stopPropagation();
        form.classList.add('was-validated');
        return;
      }

      if (!privacyCheckbox.checked) {
        alert('개인정보 수집 및 이용에 동의하셔야 합니다.');
        return;
      }

      const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        subject: document.getElementById('subject').value,
        message: document.getElementById('message').value
      };

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        if (response.ok) {
          alert('메시지가 성공적으로 전송되었습니다.');
          form.reset();
          form.classList.remove('was-validated');
          privacyCheckbox.checked = false;
        } else {
          throw new Error('메시지 전송에 실패했습니다.');
        }
      } catch (error) {
        alert(error.message);
      }
    });
  });
  </script>
  
  <style>
    /* 섹션 구분선 스타일 */
    .section-divider {
      position: relative;
      height: 50px;
      margin-top: -30px;
      overflow: hidden;
    }
    
    .divider-wave {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      overflow: hidden;
      line-height: 0;
      transform: rotate(180deg);
    }
    
    .divider-wave svg {
      position: relative;
      display: block;
      width: 100%;
      height: 50px;
    }
    
    /* FAQ 섹션 스타일 */
    .bg-primary-subtle {
      background-color: rgba(13, 110, 253, 0.1);
    }
    
    .faq-container {
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
    }
    
    .custom-accordion .accordion-button {
      padding: 20px 25px;
      font-weight: 600;
      transition: all 0.3s ease;
      border-left: 4px solid transparent;
    }
    
    .custom-accordion .accordion-button:not(.collapsed) {
      background-color: #ffffff;
      color: #182D64;
      border-left-color: #182D64;
      box-shadow: none;
    }
    
    .custom-accordion .accordion-button:focus {
      box-shadow: none;
    }
    
    .custom-accordion .accordion-button .faq-icon {
      transition: transform 0.3s ease;
    }
    
    .custom-accordion .accordion-button:not(.collapsed) .faq-icon {
      transform: rotate(90deg);
      color: #182D64;
    }
    
    .accordion-body {
      padding: 20px 30px 25px;
      background-color: #ffffff;
    }
    
    .accordion-body ul {
      padding-left: 1.2rem;
    }
    
    .accordion-body ul li {
      margin-bottom: 0.5rem;
    }
    
    /* 호버 효과 */
    .custom-accordion .accordion-item:hover .accordion-button.collapsed {
      background-color: rgba(13, 110, 253, 0.05);
    }
  </style>
`}) %> 